{% extends "base.html" %}
{% load static %}

{% block content %}
    <h1>Hotely</h1>

    <form method="get" action="">
        {{ form.as_p }}
        <div class="star-rating">
            {% for rating, label in form.star_rating.choices %}
                <div class="star">
                    <input type="checkbox" name="star_rating" value="{{ rating }}" id="star{{ rating }}">{% if rating in form.star_rating.data %}checked{% endif %}
                    <label for="star{{ rating }}">{{ label }} a více</label>
                </div>
            {% endfor %}
        </div>

        <label>Hodnocení zákazníků:</label>
        {% for rating, label in form.customer_rating.choices %}
            <div class="rating-option">
                <input type="checkbox" name="customer_rating" value="{{ rating }}" id="rating{{ rating }}">{% if rating in form.customer_rating.data %}checked{% endif %}
                <label for="rating{{ rating }}">{{ label }} a více</label>
            </div>
        {% endfor %}

        <label for="search_name">Hledat podle názvu (min. 3 písmena):</label>
        <input type="text" name="search_name" id="search_name" value="{{ form.search_name.value }}" minlength="3">

        <label>Řazení podle ceny:</label>
        <select name="sort_by_price">
            <option value="">--</option>
            <option value="asc">Od nejlevnějšího</option>
            <option value="desc">Od nejdražšího</option>
        </select>
        <button type="submit">Filtrovat</button>
    </form>

    <ul>
        {% for hotel in hotels %}
            <li>
                <a href="{% url 'hotel' hotel.id %}">{{ hotel }}</a>
            </li>
        {% endfor %}
    </ul>

    <script src="{% static 'stars.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'stars.css' %}">
{% endblock %}
